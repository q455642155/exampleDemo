<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>节点操作</title>
    <style type="text/css">
    </style>
</head>

<body>

    <table border="1" style="width:600px;margin:0 auto;border-collapse:collapse;text-align:center;">
        <thead>
            <tr>
                <th><input type="checkbox" id="checkAll"></th>
                <th>姓名</th>
                <th>班级</th>
                <th>学号</th>
            </tr>
        </thead>
        <tbody id="tBody">
            <tr>
                <td><input type="checkbox"></td>
                <td>张三</td>
                <td>一班</td>
                <td>001</td>
            </tr>
            <tr>
                <td><input type="checkbox"></td>
                <td>李四</td>
                <td>一班</td>
                <td>002</td>
            </tr>
            <tr>
                <td><input type="checkbox"></td>
                <td>王五</td>
                <td>一班</td>
                <td>003</td>
            </tr>
            <tr>
                <td><input type="checkbox"></td>
                <td>马六</td>
                <td>一班</td>
                <td>004</td>
            </tr>
        </tbody>
    </table>

    <script type="text/javascript">
        function getId(id){
            return document.getElementById(id)
        }
        // var inputs=getId("tBody").getElementsByTagName("input");
        // getId("checkAll").onclick=function(){
        //     for(var i=0;i<inputs.length;i++){
        //         inputs[i].checked=this.checked
        //     }
        // }
        // for(var i=0;i<inputs.length;i++){
        //     inputs[i].onclick=function(){
        //         var flag=true;
        //         for(var j=0;j<inputs.length;j++){
        //             if(!inputs[j].checked){
        //                 flag=false;
        //                 break
        //             }
        //         }
        //         getId("checkAll").checked=flag
        //     }
        // }
        var inputs=getId("tBody").getElementsByTagName("input");
        getId("checkAll").onclick=function(){
            for(var i=0;i<inputs.length;i++){
                inputs[i].checked=this.checked
            }
        }
        for(var i=0;i<inputs.length;i++){
            inputs[i].onclick=function(){
                var flag=true
                for(var j=0;j<inputs.length;j++){
                    if(!inputs[j].checked){
                        flag=false;
                        break;
                    }
                }
                getId("checkAll").checked=flag
            }
        }
    </script>
</body>

</html>